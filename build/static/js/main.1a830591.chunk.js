(this.webpackJsonppart1=this.webpackJsonppart1||[]).push([[0],{37:function(e,n,t){},38:function(e,n,t){"use strict";t.r(n);var c=t(0),o=t(2),r=t(14),u=t.n(r),i=t(3),a=function(e){var n=e.onChange,t=e.value;return Object(c.jsxs)("div",{children:["filter shown with: ",Object(c.jsx)("input",{value:t,onChange:n})]})},s=function(e){var n=e.name,t=e.number,o=e.onNameChange,r=e.onNumberChange,u=e.onSubmit;return Object(c.jsxs)("form",{onSubmit:u,children:[Object(c.jsxs)("div",{children:["name: ",Object(c.jsx)("input",{value:n,onChange:o})]}),Object(c.jsxs)("div",{children:["number: ",Object(c.jsx)("input",{value:t,onChange:r})]}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{type:"submit",children:"add"})})]})},l=function(e){var n=e.persons,t=e.filter,o=e.onDeleteClick;return Object(c.jsx)(c.Fragment,{children:n.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})).map((function(e){return Object(c.jsxs)("div",{children:[e.name," ",e.number," ",Object(c.jsx)("button",{onClick:function(){return o(e.id)},children:"delete"})]},e.id)}))})},d=t(4),b=t.n(d),f="/api/persons",h={getAll:function(){return b.a.get(f).then((function(e){return e.data}))},create:function(e){return b.a.post(f,e).then((function(e){return e.data}))},remove:function(e){return b.a.delete("".concat(f,"/").concat(e)).then((function(e){return e.data}))},update:function(e,n){return b.a.put("".concat(f,"/").concat(e),n).then((function(e){return e.data}))}},j=function(e){var n=e.notification;if(null===n)return null;var t=n.message,o=n.success;return Object(c.jsx)("div",{className:o?"success":"error",children:t})},m=function(){var e=Object(o.useState)([]),n=Object(i.a)(e,2),t=n[0],r=n[1],u=Object(o.useState)(""),d=Object(i.a)(u,2),b=d[0],f=d[1],m=Object(o.useState)(""),O=Object(i.a)(m,2),p=O[0],v=O[1],x=Object(o.useState)(""),g=Object(i.a)(x,2),w=g[0],C=g[1],k=Object(o.useState)(null),y=Object(i.a)(k,2),S=y[0],N=y[1];Object(o.useEffect)((function(){h.getAll().then((function(e){return r(e)})).catch((function(e){return console.log(e)}))}),[]);var A=function(e,n){N({message:e,success:n}),setTimeout((function(){N(null)}),5e3)};return Object(c.jsxs)("div",{children:[Object(c.jsx)(j,{notification:S}),Object(c.jsx)("h2",{children:"Phonebook"}),Object(c.jsx)(a,{value:w,onChange:function(e){C(e.target.value)}}),Object(c.jsx)("h2",{children:"Add a new"}),Object(c.jsx)(s,{onSubmit:function(e){e.preventDefault();var n=t.find((function(e){return e.name.toLowerCase()===b.toLowerCase()})),c={name:b,number:p};n&&window.confirm("".concat(n.name," already exists in the phonebook, would you like to update their number?"))?h.update(n.id,c).then((function(e){r(t.map((function(t){return t.id===n.id?e:t}))),f(""),v(""),A("Updated ".concat(c.name,"'s entry in the phonebook!"),!0)})).catch((function(){A("".concat(c.name,"'s entry no longer exists in the phonebook!"),!1),r(t.filter((function(e){return e.id!==n.id})))})):t.some((function(e){return e.number===p}))?window.alert("The number ".concat(p," is already in the phonebook!")):n||h.create(c).then((function(e){r(t.concat(e)),f(""),v(""),A("Added ".concat(c.name," to the phonebook!"),!0)})).catch((function(e){return console.log(e)}))},onNameChange:function(e){f(e.target.value)},onNumberChange:function(e){v(e.target.value)},name:b,number:p}),Object(c.jsx)("h2",{children:"Numbers"}),Object(c.jsx)(l,{onDeleteClick:function(e){var n=t.find((function(n){return n.id===e}));n&&window.confirm("Would you really like to remove ".concat(n.name," from the phonebook?"))&&h.remove(e).then((function(){r(t.filter((function(n){return n.id!==e})))})).catch((function(e){return console.log(e)}))},filter:w,persons:t})]})};t(37);u.a.render(Object(c.jsx)(m,{}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.1a830591.chunk.js.map